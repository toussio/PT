<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PT 트레이너 예약 시스템</title>
<style>
:root {
  --bg:#FFDEB3; --card:#FFF3E0;
  --accent:#f97316; --grad:linear-gradient(135deg,#fb923c,#f97316,#ea580c);
  --ink:#2b1d12; --muted:#5c4033; --disabled:#bfa89c;
}
body {
  margin:0; font-family:"Pretendard",sans-serif;
  background:var(--bg); color:var(--ink); overflow-x:hidden;
}
.modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,.4);
  display:none; align-items:center; justify-content:center;
  z-index:10000;
  animation:fadeIn .3s;
}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.modal-content{
  background:var(--card); border-radius:18px; padding:24px;
  color:var(--ink); box-shadow:0 0 20px rgba(0,0,0,.2);
  max-width:500px; width:90%;
}
.modal-content h3{color:var(--accent);}
.modal-content p{color:var(--muted);}
.modal-content button{
  background:var(--grad); color:#fff; border:none;
  padding:10px 20px; border-radius:8px; cursor:pointer; font-weight:600;
  transition:.3s;
}
.modal-content button:hover{transform:translateY(-2px);box-shadow:0 0 15px rgba(249,115,22,.4);}

/* 인트로 */
.intro-overlay{
  position:fixed; inset:0;
  background:url('https://images.unsplash.com/photo-1558611848-73f7eb4001a1?auto=format&fit=crop&w=1400&q=80') center/cover no-repeat;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  z-index:999; text-align:center; color:#fff; backdrop-filter:blur(6px);
}
.intro-bg{position:absolute; inset:0; background:rgba(0,0,0,0.5);}
.intro-content{
  position:relative; z-index:2;
  max-width:800px; background:rgba(255,243,224,0.9);
  padding:40px 30px; border-radius:20px;
  box-shadow:0 0 20px rgba(249,115,22,0.4); color:var(--ink);
}
.intro-content h1{font-size:2rem; background:var(--grad);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;}
.intro-controls button{
  background:var(--grad); color:#fff; border:none; padding:10px 24px;
  border-radius:10px; font-weight:600; cursor:pointer;
  box-shadow:0 0 10px rgba(249,115,22,.4); transition:.3s;
}
.intro-controls button:hover{transform:translateY(-3px);box-shadow:0 0 18px rgba(249,115,22,.6);}

/* 메인 */
.main{display:none;padding:40px 20px 80px;animation:fadeInMain 1s ease;}
@keyframes fadeInMain{from{opacity:0;}to{opacity:1;}}
h2.title{
  text-align:center;font-size:1.8rem;
  background:var(--grad);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  margin-bottom:40px;
}

/* 트레이너 카드 */
.trainer-section{display:flex;justify-content:center;align-items:center;gap:30px;margin-bottom:40px;}
.arrow{
  background:var(--grad);border:none;border-radius:50%;
  width:55px;height:55px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:.3s;box-shadow:0 0 10px rgba(249,115,22,.3);
}
.arrow:hover{transform:scale(1.08);box-shadow:0 0 18px rgba(249,115,22,.6);}
.trainer-card{
  width:280px;border-radius:18px;background:var(--card);
  box-shadow:0 4px 10px rgba(0,0,0,.15);
  text-align:center;overflow:hidden;cursor:pointer;transition:.3s;
}
.trainer-card img{width:100%;height:180px;object-fit:cover;}
.trainer-card h3{margin:10px 0 4px;color:var(--accent);}
.trainer-card p{margin:0;color:var(--muted);}
.trainer-card:hover{transform:translateY(-4px);box-shadow:0 6px 20px rgba(249,115,22,.3);}

/* 캘린더 */
.schedule-section{
  max-width:800px;margin:0 auto;
  background:var(--card);
  border-radius:20px;padding:30px;
  box-shadow:0 0 20px rgba(0,0,0,.1);
}
.schedule-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-top:10px;padding-bottom:16px;}
.day{
  text-align:center;padding:10px 0;border-radius:10px;
  background:rgba(255,255,255,0.7);
  cursor:pointer;transition:.25s;font-size:14px;min-height:55px;
}
.day:hover:not(.disabled):not(.booked){background:rgba(249,115,22,.3);transform:scale(1.05);}
.day.selected{outline:2px solid var(--accent);}
.day.booked{background:var(--grad);color:#fff;}
.day.disabled{color:var(--disabled);opacity:0.5;cursor:not-allowed;background:rgba(255,255,255,0.4);}
.day.today{outline:1px dashed var(--accent);}

/* 공지 버튼 */
.notice-btn {
  position: fixed; top: 20px; right: 20px;
  background: var(--grad); color: #fff; border: none;
  padding: 10px 18px; border-radius: 10px;
  font-weight: 600; cursor: pointer;
  box-shadow: 0 0 15px rgba(249,115,22,.4);
  transition: .3s; z-index: 9999;
}
.notice-btn:hover { transform: translateY(-3px); box-shadow: 0 0 20px rgba(249,115,22,.6); }

/* 공지 모달 내부 */
.notice-list { text-align:left; max-height:280px; overflow-y:auto; padding:10px; border-radius:10px; margin-bottom:12px; }
.notice-item { background:rgba(255,255,255,0.05); padding:10px 14px; border-radius:10px; margin-bottom:8px; cursor:pointer; }
.notice-item h4 { margin:0; color:var(--accent); }
.notice-item p { margin:5px 0; color:var(--muted); font-size:14px; }
.notice-item small { font-size:12px; color:var(--disabled); }
.add-area input, .add-area textarea { width:100%; margin-top:10px; padding:8px; border:none; border-radius:8px; font-size:14px; background:rgba(255,255,255,.1); color:var(--ink); }
.add-area textarea { resize:none; height:60px; }
.add-area button { width:100%; margin-top:10px; background:var(--grad); color:#fff; border:none; border-radius:8px; font-weight:600; padding:8px; cursor:pointer; }
</style>
</head>
<body>

<!-- 인트로 -->
<div class="intro-overlay" id="intro">
  <div class="intro-bg"></div>
  <div class="intro-content">
    <h1>🏋️‍♀️ 작두 PT 센터</h1>
    <p>당신의 몸을 디자인하는 곳 — 최고의 트레이너들과 함께하세요.</p>
    <div class="intro-controls"><button id="startBtn">시작하기</button></div>
  </div>
</div>

<!-- 메인 -->
<div class="main" id="main">
  <h2 class="title">트레이너 예약 시스템</h2>
  <div class="trainer-section">
    <button class="arrow" id="prevBtn">◀</button>
    <div class="trainer-card" id="trainerCard"></div>
    <button class="arrow" id="nextBtn">▶</button>
  </div>

  <div class="schedule-section">
    <div class="schedule-header">
      <h3 id="trainerTitle">트레이너 선택</h3>
      <span id="monthLabel"></span>
    </div>
    <div class="calendar" id="calendar"></div>
    <div class="time-select-area">
      <select id="timeSelect">
        <option value="">시간 선택</option>
        <option>10:00</option><option>12:00</option>
        <option>14:00</option><option>16:00</option><option>18:00</option>
      </select>
      <button class="reserve-btn" id="reserveBtn">예약하기</button>
    </div>
  </div>
</div>

<!-- 트레이너 상세, 일정, 공지 모달 -->
<div class="modal" id="trainerModal"><div class="modal-content"><img id="modalImg"><h3 id="modalName"></h3><p id="modalCode"></p><p id="modalIntro"></p><p id="modalDesc"></p><button id="closeTrainer">닫기</button></div></div>
<div class="modal" id="scheduleModal"><div class="modal-content"><h3 id="scheduleTitle"></h3><p id="scheduleDate"></p><ul id="scheduleList"></ul><button id="closeSchedule">닫기</button></div></div>
<div class="modal" id="noticeModal"><div class="modal-content"><h3>📢 공지사항</h3><div id="noticeList"></div><div class="add-area"><input id="noticeTitle" placeholder="공지 제목"><textarea id="noticeText" placeholder="공지 내용을 입력하세요"></textarea><button id="addNotice">공지 추가</button></div><button id="closeNotice">닫기</button></div></div>
<div class="modal" id="noticeDetailModal"><div class="modal-content"><h3 id="detailTitle"></h3><p id="detailText"></p><small id="detailDate"></small><button id="closeDetail">닫기</button></div></div>

<button class="notice-btn" id="openNotice">📢 공지사항</button>

<script>
const intro=document.getElementById("intro");
const main=document.getElementById("main");
document.getElementById("startBtn").onclick=()=>{intro.style.opacity="0";setTimeout(()=>{intro.style.display="none";main.style.display="block";},600);};

const trainers=[
  {name:"트레이너 A",photo:"https://via.placeholder.com/260x180?text=A",intro:"체형 교정 전문가",code:"PT-001",desc:"10년 경력의 전문 체형 교정 코치. 회원 한 명 한 명의 자세를 완벽하게 분석하여 맞춤형 솔루션을 제공합니다."},
  {name:"트레이너 B",photo:"https://via.placeholder.com/260x180?text=B",intro:"다이어트 코치",code:"PT-002",desc:"체중 감량, 식단 조절, 생활습관 교정까지 도와드립니다. 목표를 함께 이뤄요."},
  {name:"트레이너 C",photo:"https://via.placeholder.com/260x180?text=C",intro:"근력 향상 전문가",code:"PT-003",desc:"기초 체력 향상부터 고급 근력 트레이닝까지 완벽 지도. 근육은 배신하지 않습니다."},
  {name:"트레이너 D",photo:"https://via.placeholder.com/260x180?text=D",intro:"재활 트레이너",code:"PT-004",desc:"부상 후 회복을 위한 안전한 프로그램 설계. 정확한 자세와 동작으로 건강을 회복시킵니다."}
];
let currentTrainer=0;
const trainerCard=document.getElementById("trainerCard");
const trainerTitle=document.getElementById("trainerTitle");
function showTrainer(i){const t=trainers[i];trainerCard.innerHTML=`<img src="${t.photo}"><h3>${t.name}</h3><p>${t.intro}</p>`;trainerTitle.textContent=`${t.name} 일정`;trainerCard.onclick=()=>openTrainerModal(t);}
const trainerModal=document.getElementById("trainerModal");
const modalImg=document.getElementById("modalImg");
function openTrainerModal(t){modalImg.src=t.photo;document.getElementById("modalName").textContent=t.name;document.getElementById("modalCode").textContent=`고유번호: ${t.code}`;document.getElementById("modalIntro").textContent=t.intro;document.getElementById("modalDesc").textContent=t.desc;trainerModal.style.display="flex";}
document.getElementById("closeTrainer").onclick=()=>trainerModal.style.display="none";
document.getElementById("prevBtn").onclick=()=>{currentTrainer=(currentTrainer-1+trainers.length)%trainers.length;showTrainer(currentTrainer);renderCalendar();};
document.getElementById("nextBtn").onclick=()=>{currentTrainer=(currentTrainer+1)%trainers.length;showTrainer(currentTrainer);renderCalendar();};

const bookings=[{trainer:"트레이너 A",user:"홍길동",date:"2025-10-15",time:"14:00"}];
const calendar=document.getElementById("calendar");
let selectedDate=null;
function renderCalendar(){
  calendar.innerHTML="";
  const now=new Date();
  const todayZero=new Date(now.getFullYear(),now.getMonth(),now.getDate());
  const y=now.getFullYear(),m=now.getMonth();
  const fd=new Date(y,m,1),ld=new Date(y,m+1,0);
  document.getElementById("monthLabel").textContent=`${y}년 ${m+1}월`;
  for(let i=0;i<fd.getDay();i++)calendar.appendChild(document.createElement("div"));
  for(let d=1;d<=ld.getDate();d++){
    const dateObj=new Date(y,m,d);
    const dateStr=`${y}-${m+1}-${d}`;
    const day=document.createElement("div");
    day.className="day";
    day.textContent=d;
    const isPast=dateObj<todayZero;
    const hasBooking=bookings.some(b=>b.trainer===trainers[currentTrainer].name && b.date===dateStr);
    const isToday=dateObj.toDateString()===now.toDateString();
    if(isPast) day.classList.add("disabled");
    if(hasBooking) day.classList.add("booked");
    if(isToday) day.classList.add("today");
    day.onclick=()=>{
      if(isPast) return alert("이전 날짜는 예약할 수 없습니다.");
      document.querySelectorAll(".day").forEach(c=>c.classList.remove("selected"));
      day.classList.add("selected");
      selectedDate=dateStr;
      openScheduleModal(dateStr);
    };
    calendar.appendChild(day);
  }
}
const scheduleModal=document.getElementById("scheduleModal");
function openScheduleModal(dateStr){
  const t=trainers[currentTrainer];
  document.getElementById("scheduleTitle").textContent=`${t.name} 예약 현황`;
  document.getElementById("scheduleDate").textContent=`날짜: ${dateStr}`;
  const scheduleList=document.getElementById("scheduleList");
  scheduleList.innerHTML="";
  const filtered=bookings.filter(b=>b.trainer===t.name && b.date===dateStr);
  if(filtered.length===0){scheduleList.innerHTML=`<li>예약된 일정이 없습니다.</li>`;} 
  else filtered.forEach(b=>{const li=document.createElement("li");li.innerHTML=`<span>${b.time}</span> — ${b.user} 님 예약완료`;scheduleList.appendChild(li);});
  scheduleModal.style.display="flex";
}
document.getElementById("closeSchedule").onclick=()=>scheduleModal.style.display="none";

const reserveBtn=document.getElementById("reserveBtn");
reserveBtn.onclick=()=>{
  const t=trainers[currentTrainer];
  if(!selectedDate)return alert("날짜를 선택하세요!");
  const time=document.getElementById("timeSelect").value;
  if(!time)return alert("시간을 선택하세요!");
  if(bookings.find(b=>b.trainer===t.name&&b.date===selectedDate&&b.time===time))return alert("이미 예약된 시간입니다!");
  const user=prompt("예약자 이름을 입력하세요:");
  if(!user)return;
  bookings.push({trainer:t.name,user,date:selectedDate,time});
  alert(`${t.name}님과 ${selectedDate} ${time} 예약 완료!`);
  renderCalendar();
};

/* 공지 시스템 */
const noticeModal=document.getElementById("noticeModal");
const noticeList=document.getElementById("noticeList");
const notices=[{title:"센터 리모델링 안내",text:"11월 3일~5일 리모델링 공사로 예약이 제한됩니다.",date:"2025-10-27"}];
function renderNotices(){
  noticeList.innerHTML="";
  if(notices.length===0)return noticeList.innerHTML="<p>등록된 공지사항이 없습니다.</p>";
  notices.forEach(n=>{
    const div=document.createElement("div");
    div.className="notice-item";
    div.innerHTML=`<h4>${n.title}</h4><p>${n.text.slice(0,40)}${n.text.length>40?'...':''}</p><small>📅 ${n.date}</small>`;
    div.onclick=()=>openNoticeDetail(n);
    noticeList.appendChild(div);
  });
}
document.getElementById("openNotice").onclick=()=>{noticeModal.style.display="flex";renderNotices();};
document.getElementById("closeNotice").onclick=()=>noticeModal.style.display="none";
document.getElementById("addNotice").onclick=()=>{
  const title=document.getElementById("noticeTitle").value.trim();
  const text=document.getElementById("noticeText").value.trim();
  if(!title||!text)return alert("제목과 내용을 입력하세요!");
  const date=new Date().toISOString().split("T")[0];
  notices.unshift({title,text,date});
  renderNotices();
  document.getElementById("noticeTitle").value="";
  document.getElementById("noticeText").value="";
  alert("공지사항이 추가되었습니다!");
};
const noticeDetailModal=document.getElementById("noticeDetailModal");
function openNoticeDetail(n){
  document.getElementById("detailTitle").textContent=n.title;
  document.getElementById("detailText").textContent=n.text;
  document.getElementById("detailDate").textContent=`📅 ${n.date}`;
  noticeDetailModal.style.display="flex";
}
document.getElementById("closeDetail").onclick=()=>noticeDetailModal.style.display="none";

showTrainer(currentTrainer);
renderCalendar();
</script>
</body>
</html>
